{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","services/searchApi.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","params","key","image_type","orientation","per_page","searchApi","query","page","a","get","q","data","hits","console","log","modalRoot","document","querySelector","Modal","showModal","children","useEffect","handleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","className","style","Overlay","onClick","currentTarget","target","SearchForm","onSubmit","useState","setQuery","Searchbar","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","value","protoType","PropTypes","string","ImageGalleryItem","image","tags","ImageGalleryItemImage","src","alt","ImageGallery","pictures","bigImage","map","id","webformatURL","largeImageURL","Button","loader","Loader","color","height","width","timeout","App","setPictures","loading","setLoading","setPage","largeImage","setLargeImage","setShowModal","error","setError","fetchPictures","then","newPictures","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dd9c73e5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Npel\",\"Modal\":\"Modal_Modal__2hSgS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2LqQd\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1ZdTm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2H8NA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2f_ou\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3tnU7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3C-BH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__17Luh\",\"SearchForm\":\"Searchbar_SearchForm__3Svks\",\"SearchFormButton\":\"Searchbar_SearchFormButton__39--5\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3VGOT\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1LYn7\"};","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\naxios.defaults.params = {\n  key: \"21960692-4b154a3b2fc4580fa9db92a45\",\n  image_type: \"photo\",\n  orientation: \"horizontal\",\n  per_page: 12,\n};\n\nconst searchApi = async (query, page) => {\n  try {\n    const { data } = await axios.get(\"\", {\n      params: {\n        q: query,\n        page,\n      },\n    });\n    return data.hits;\n  } catch (error) {\n    console.log(\"error\", error);\n    return [];\n  }\n};\n\nexport default searchApi;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport style from \"./Modal.module.css\";\nimport { createPortal } from \"react-dom\";\n\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal({ showModal, children }) {\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.code === \"Escape\") {\n        showModal();\n      }\n    };\n\n \n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [showModal]);\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      showModal();\n    }\n  };\n\n    return createPortal(\n      <div className={style.Overlay} onClick={handleBackdropClick}>\n        <div className={style.Modal}>{children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n\nModal.propTypes = {\n  showModal: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","import React, { useState } from \"react\";\nimport style from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function SearchForm({onSubmit}) {\n    const [query, setQuery] = useState(\"\");\n\n\nconst handleChange = (e) => {\n    setQuery( e.target.value );\n}\n \nconst handleSubmit = (e) => {\n    e.preventDefault();\n\n    onSubmit(query);\n    setQuery({ query: \"\" });\n  }\n\n    return (\n      <header className={style.Searchbar}>\n        <form onSubmit={handleSubmit} className={style.SearchForm}>\n          <button type=\"submit\" className={style.SearchFormButton}>\n            <span className={style.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={style.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleChange}\n          />\n        </form>\n      </header>\n    )\n  }\n\nSearchForm.protoType = {\n  query: PropTypes.string,\n};\n\n","import style from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ image, tags, onClick }) => {\n  return (\n    <li className={style.ImageGalleryItem}>\n      <img\n        className={style.ImageGalleryItemImage}\n        src={image}\n        alt={tags}\n        onClick={onClick}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  tags: PropTypes.string,\n  bigImage: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport style from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ pictures, bigImage }) => {\n  return (\n    <ul className={style.ImageGallery}>\n      {pictures.map(({ id, webformatURL, largeImageURL, tags }) => {\n        const handleItemClick = () => bigImage(largeImageURL);\n\n        return (\n          <ImageGalleryItem\n            key={id}\n            image={webformatURL}\n            alt={tags}\n            onClick={handleItemClick}\n          />\n        );\n      })}\n    </ul>\n  );\n};\nImageGallery.propTypes = {\n  pictures: PropTypes.array,\n  bigImage: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import style from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={style.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport style from \"./Loader.module.css\";\n\nconst loader = () => {\n  return (\n    <Loader\n      className={style.Loader}\n      type=\"Watch\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n};\nexport default loader;\n","import React, { useState, useEffect } from 'react';\nimport style from \"./App.module.css\";\nimport searchApi from \"./services/searchApi\";\nimport Modal from \"./components/Modal\";\nimport SearchForm from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\n\nexport default function App() {\n  const [pictures, setPictures] = useState([]);\n  const [query, setQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [largeImage, setLargeImage] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(null);\n\nconst fetchPictures = () => {   \nsetLoading(true)\n  searchApi(query, page)\n   .then(newPictures => {\n      setPictures([...pictures, ...newPictures])\n      setPage(page + 1);\n      }) \n    \n    .catch(error => setError({ error: \"Picture not found\" }))\n  .finally(() => setLoading(false));\n\n};\n   \n  \n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n     fetchPictures();\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  \n useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }); \n\n  const onChangeQuery = query => {\n    setQuery(query);\n    setPage(1);\n    setPictures([]);\n    setError(null)\n}\n\nconst toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\nconst bigImage = largeImage => {\n    setLargeImage( largeImage );\n    toggleModal();\n  };\n  \n return (\n  <div className={style.App}>\n    <SearchForm onSubmit={onChangeQuery} />\n    {error && <h1>{error}</h1>}\n    <ImageGallery pictures={pictures} bigImage={bigImage} />\n      {loading && <Loader />}\n      {pictures.length > 11 && !loading && (\n        <Button onClick={fetchPictures} />\n      )}\n      {showModal && (\n        <Modal showModal={bigImage}>\n          <img src={largeImage} alt={largeImage} />\n        </Modal>\n        )}\n      </div>\n    );\n}\n  \n\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}